Управление контентом в справочниках
===================================

Для работы со справочниками мы используем отдельную систему управления содержимым.
Чтобы туда попасть перейдите по `ссылке <https://dev-ok.mp.mrsdev.ru/api/references/admin>`_
или скопируйте и вставьте её в строку браузера::

    https://dev-ok.mp.mrsdev.ru/api/references/admin

После этого вам надо будет ввести логин и пароль и войти.
Если вы являетесь администратором системы, то данные для доступа к системе вам должны были уже передать.
Когда вы зайдёте, перейдите во вкладку ``Content`` (Рис. 1).

..  thumbnail:: images/content-management-directus-1-sign-in.gif
    :alt: Вход в систему управления содержимым
    :align: center
    :title: Рис. 1. Вход в систему управления содержимым
    :show_caption: True

Виды справочников
-----------------

Справочник --- это сведения, имеющие одинаковую структуру и моделирующие одну и ту же сущность из предметной области.
Пример: виды работ, участки, пункты НТД и прочее.

Запись справочника --- это единица информации из Справочника.
Она соответствует его структуре, обладает собственной идентичностью и может быть адресована по идентификатору.

Справочники можно записывать двумя основными способами:

#.  Создание простых записей.
#.  Создание иерархические справочников.

..  note:: Деление условное, так как создание иерархических справочников включает в себя создание и обычных.

Простая запись
++++++++++++++

Чтобы создать запись справочника, в меню ``Contents`` перейдите в необходимый справочник и нажмите кнопку ``Create Item`` (Рис. 2).
В примере ниже вы можете посмотреть, как создаётся новый акт.

..  thumbnail:: images/content-management-directus-2-ref-book-creating.gif
    :alt: Создание нового акта
    :align: center
    :title: Рис. 2. Создание нового акта
    :show_caption: True

..  note:: В данном случае необходимо заполнить только поле ``Name``. Поле ``ID`` заполняется автоматически.
    Данное поле необходимо для адресации. Подробнее об этом ниже при описании иерархических справочников.

По этому принципу заполняются все простые записи.

Иерархические справочники
+++++++++++++++++++++++++

Для понимания принципов работы иерархических справочников можно привести аналогию с папками на компьютере: сначала вы создаёте папку-родителя,
а потом создаются обычные записи внутри этой папки.

В случае со справочниками: сначала вы создаёте родительскую запись справочника. Это делается точно также, как и с простой записью.
После создания, зайдите обратно в запись и скопируйте ``ID`` (Рис. 3).

..  thumbnail:: images/content-management-directus-3-id-copy.png
    :alt: Копирование идентификатора у родительской записи
    :align: center
    :title: Рис. 3. Копирование идентификатора у родительской записи
    :show_caption: True

После этого создайте в этом же справочнике другую запись и вставьте ``ID`` родительской записи в поле ``Parent ID`` (Рис. 4).

..  thumbnail:: images/content-management-directus-4-parent-id-input.gif
    :alt: Копирование идентификатора у родительской записи
    :align: center
    :title: Рис. 4. Копирование идентификатора у родительской записи
    :show_caption: True

Таким образом у нас простая запись **АЗ-00003.1 - ТС. Устройство межярусных дренажей (2 слой)** находится в родительской записи
**ПА_П-АЗ-15-01-С-00003.У-Строительство ОК "Надежный" по переработке золотосодержащих руд месторождений и отвалов кучным выщелачиванием произв.**.

