Настройка ролей
===============

Настройка ролей участников проекта осуществляется в панели администрирования в разделе **Роли** (Рис. 1). 

..  thumbnail:: images/roles-setup-1-role-menu.png
    :alt: Раздел «Роли»
    :align: center
    :title: Рис. 1. Раздел «Роли»
    :show_caption: True

В разделе **Роли** вы создаете и настраиваете роли, которые участвуют в проекте.

:Например: Заказчик, Строительный контроль заказчика, Проектировщик, Субподрядчик и другие.

Внимательно продумайте список необходимых ролей и произведите их настройку.
Каждой роли вы предоставляете набор прав для работы в пользовательском приложении.

В последующем роли присваиваются участникам проекта.
Участник проекта будет иметь такой набор прав для работы с программой, который вы настроили для его роли.

Также вы можете настроить права для каждого сотрудника отдельно в разделе **Сотрудники**.
Подробнее об этом читайте в :doc:`employee-rights-setup`.

..  attention:: Настоятельно рекомендуем произвести только настройку ролей и назначить сотрудников на них.
    Персонально настраивать права сотрудника стоит только для администратора системы.

Сотрудники назначаются на роль в пользовательском приложении в разделе **Участники**.

Чтобы добавить новую роль, нажмите на кнопку «Добавить», введите название и нажмите на кнопку «Ок» (Рис. 9).

..  only:: html

    ..  thumbnail:: images/roles-setup-2-role-creating.gif
        :alt: Создание роли
        :align: center
        :title: Рис. 2. Создание роли
        :show_caption: True

..  only:: latex

    ..  figure:: images/roles-setup-2-role-creating.png
        :alt: Создание роли
        :align: center
        
        Рис. 2. Создание роли

..  note:: Если вы ошиблись в названии роли, его можно изменить.

Каждую роль необходимо **наделить набором прав** для работы с программой.
После того, как вы назначили права выбранной роли, нажмите кнопку «Применить».
Если данная роль больше не нужна, то заархивируйте ее.

..  attention:: При архивировании роли в панели администрирования,
    в приложении будут удалены все пользователи, назначенные на эту роль.
    Поэтому, если возникла необходимость архивировать роль,
    сначала необходимо переназначить сотрудников на другие роли
    и только после этого заархивировать роль из панели администрирования.

Также вы можете переименовать роль или изменить набор прав для нее.

Права для ролей
---------------

Настройка ролей происходит в отдельном меню:

..  thumbnail:: images/roles-setup-3-right-types.png
        :alt: Типы прав
        :width: 60%
        :title: Рис. 3. Типы прав
        :show_caption: True

Подробное описание для каждого типа прав:

*   :ref:`Projects`
*   :ref:`Catalogues`
*   :ref:`Docs`
*   :ref:`Tasks`
*   :ref:`Pages`
*   :ref:`Reports`

.. *   :ref:`Maps`

..  _Projects:

Проекты/Структура 
+++++++++++++++++

*   **Просмотр проектов/элементов структуры** — дает право видеть список проектов/раздел «Структура» в программе.
    Проставляется автоматически, если сотруднику дали право на «Просмотр страницы с элементами структуры» (в разделе «Страницы»).

    В случае предоставления данного права на какую-либо роль,
    сотрудник, назначенный на эту роль, будет иметь право на просмотр только того проекта/элемента структуры, на который его назначили. 


*   **Создание проектов/элементов структуры** — дает право создавать элементы структуры в пользовательской части
    и право создавать проекты в административной части программы.


*   **Редактирование настроек элементов структуры** — дает право редактировать раздел «Настройки» всех уровней структуры и все проекты.
    Дополнительно в разделе страницы надо дать право на работу со страницей «Настройки».


*   **Редактирование настроек собственных элементов структуры** — дает право редактировать раздел «Настройки» у всех элементов структуры
    и все проекты, созданные только самим сотрудником. Дополнительно в разделе страницы надо дать право на работу со страницей «Настройки».


*   **Удаление проектов/элементов структуры** — дает право архивировать элементы структуры, созданные другими сотрудниками.


*   **Удаление собственных элементов структуры** — дает право архивировать элементы структуры, созданные только самим сотрудником.

    ..  warning:: Вместе со структурой будут архивированы замечания, документация, комментарии и все, что было на данном уровне структуры.


*   **Восстановление проектов/элементов структуры** — дает право на восстановление архивированных проектов
    и элементов структуры, созданных другими сотрудниками.

    ..  warning:: Вместе со структурой будут восстановлены замечания, документация, комментарии и все, что было на данном уровне структуры.


*   **Восстановление собственных элементов структуры** — дает право на восстановление элементов структуры, созданных только самим сотрудником. 


*   **Импорт элементов структуры из файла** — дает право добавлять элементы структуры с неограниченной вложенностью, созданные в MsProject.


*   **Добавление/удаление участника из ролей** — дает право назначить (удалить) участника проекта на любую роль.

..  thumbnail:: images/roles-setup-4-rights-project-structure.png
        :alt: Типы прав: Проекты/Структура
        :width: 60%
        :title: Рис. 4. Типы прав: Проекты структура
        :show_caption: True

..  _Catalogues:

Каталоги
++++++++

*   **Создание каталогов** — дает право создать папку в разделе «Документация».

*   **Редактирование настроек каталогов** — 

*   **Редактирование настроек собственных каталогов** — 

*   **Удаление каталогов** — дает право архивировать чужую папку из раздела «Документация».

    ..  attention:: Вместе с папкой будет архивирована вся документация, находящаяся в ней.

*   **Удаление собственных каталогов** — дает право архивировать папку в разделе «Документация», созданную только самим сотрудником.

*   **Восстановление каталогов** — дает право на восстановление архивированных папок из раздела «Документация», созданных другими пользователями.

    ..  attention:: Вместе с папкой будет восстановлена вся документация, находящаяся в ней.

*   **Восстановление собственных каталогов** — дает право на восстановление архивированных папок в разделе «Документация», созданных самим сотрудником.

..  thumbnail:: images/roles-setup-5-rights-catalogues.png
        :alt: Типы прав: Каталоги
        :width: 60%
        :title: Рис. 5. Типы прав: Каталоги
        :show_caption: True

..  _Docs:

Документы
+++++++++

*   **Создание документов** — дает право загружать документы в раздел «Документация».

*   **Удаление документов** — дает право архивировать документы, созданные другими сотрудниками, из проекта.

*   **Удаление собственных документов** — дает право архивировать документы, созданные только самим пользователем.

*   **Редактирование настроек планов** — дает право работать с настройками плана (чертежа, документа).
    Сотрудник сможет изменять название документа, название страниц документа, если он многостраничный, настройки масштаба чертежа.

*   **Редактирование настроек собственных планов** — дает право работать с настройками планов, загруженных самим сотрудником.

*   **Восстановление документов** — дает право на восстановление архивированных документов, загруженных другими пользователями.

*   **Восстановление собственных документов** — дает право на восстановление архивированных документов, созданных самим сотрудником.

*   **Скачивание документов** — дает право скачивать документы из проекта.

*   **Создание аннотаций** — дает право создавать аннотации на чертеже (рамочки, стрелочки, облачка с надписью). 

*   **Удаление аннотаций** — дает право удалять аннотации, но замечания с плана при этом удалять нельзя.
    Для удаления замечаний необходимо право «Удаление замечаний». 

*   **Показывать создание замечаний** — дает право работать с кнопкой «Создание замечаний»  на чертеже. 

    ..  attention:: Для полноценной работы с кнопкой «Создание замечаний» необходимо дать два права:
        «Показывать создание замечаний» и «Создание замечаний» (из раздела «Замечания»).

*   **Показывать редактирование аннотаций** — дает право видеть панель создания аннотаций, но не работать в ней.
    
    ..  attention:: Для работы с панелью надо дать сотруднику два права: «Создание аннотаций» и «Показывать редактирование аннотаций». 

*   **Показывать измерения в редакторе** — дает право видеть панель «Измерения» в редакторе, но не работать с ней.
    
    ..  attention:: Для работы с панелью надо дать пользователю еще три права:
        «Показывать измерения в редакторе», «Создание аннотаций», «Показывать редактирование аннотаций».

*   **Редактирование генплана** — дает право работать с функционалом генплана.

..  thumbnail:: images/roles-setup-6-rights-documents.png
        :alt: Типы прав: Документы
        :width: 60%
        :title: Рис. 6. Типы прав: Документы
        :show_caption: True

..  _Tasks:

Замечания
+++++++++

*   **Создание замечаний** — дает право создавать замечания на плане (чертеже) и без привязки к плану.
    На плане работает только в паре с правом «Показывать создание замечаний».

*   **Редактирование настроек замечаний** — дает право редактировать чужие замечания:
    название, описание, номер, срок устранения, дату отчетности, требует внимания, нарушен стандарт, важность замечания.
    Также дает право выбирать категории в замечаниях.

*   **Редактирование собственных замечаний** — дает право редактировать только те замечания, которые создал сам сотрудник,
    а также выбирать категории в своих замечаниях.

*   **Удаление замечаний** — дает право архивировать только чужие замечания как с экрана редактирования, так и с плана (чертежа).
    Если замечания по каким-то причинам скрыты (установлен фильтр и т.п.), то они не архивируются. 

*   **Удаление собственных замечаний** — дает право архивировать только те замечания, которые создал сам сотрудник как с экрана редактирования,
    так и с плана (чертежа). Если замечания по каким-то причинам скрыты (установлен фильтр и т.п.), то они не архивируются.

*   **Восстановление замечаний** — дает право на восстановление архивированных замечаний, созданных другими пользователями. 

*   **Восстановление собственных замечаний** — дает право на восстановление архивированных замечаний, созданных самим сотрудником.

*   **Назначение исполнителя** — дает право назначать исполнителей на замечания, созданные другими сотрудниками.

*   **Назначение исполнителя на собственные замечания** — дает право назначать исполнителей на замечания, созданные самим сотрудником.

*   **Назначение автора замечания** – дает право изменять автора замечаний, созданных другими сотрудниками.

*   **Назначение автора на собственные замечания** – дает право изменять автора замечаний, созданных самим сотрудником.

*   **Изменение статуса замечаний на «Открыто»** — дает право изменить статус замечаний, созданных любыми сотрудниками, на «Открыто».

*   **Изменение статуса замечаний на «Проверено»** — дает право изменить статус замечаний, созданных любыми сотрудниками, на «Проверено».

*   **Изменение статуса замечаний на «Выполнено»** — дает право изменить статус замечаний, созданных любыми сотрудниками, на «Выполнено».

*   **Изменение статуса собственных замечаний на «Открыто»** — дает право изменить статус замечаний, созданных сотрудником, на «Открыто».

*   **Изменение статуса собственных замечаний на «Проверено»** — дает право изменить статус замечаний, созданных сотрудником, на «Проверено».

*   **Изменение статуса собственных замечаний на «Выполнено»** — дает право изменить статус замечаний, созданных сотрудником, на «Выполнено».

*   **Изменение статуса исполнителем замечаний на «Открыто»** — дает право изменить статус замечаний исполнителю на «Открыто».

*   **Изменение статуса исполнителем замечаний на «Проверено»** — дает право изменить статус замечаний исполнителю на «Проверено».

*   **Изменение статуса исполнителем замечаний на «Выполнено»** — дает право изменить статус замечаний исполнителю на «Выполнено».

*   **Возможность быть «Исполнителем»** – даёт право быть назначенным в поле «Исполнитель».

*   **Возможность выбираться как «Требует внимания»** – дает право быть назначенным в поле «Требует внимание».

*   **Генерация отчетов** — дает право на создание всех видов отчетов и предписаний.

*   **Удаление отчетов** — дает право архивировать все виды отчётов и предписаний.

*   **Удаление собственных отчетов** — дает право архивировать созданных собой отчётов и предписаний.

*   **Создание приложений** — дает право создавать приложения к любым замечаниям.

*   **Удаление приложений** — дает право архивировать приложения, созданные другими сотрудниками. Свои приложения удалять нельзя.

*   **Удаление собственных** приложений — дает право архивировать приложения, созданные самим сотрудником. Чужие приложения удалять нельзя. 

*   **Создание комментариев** — дает право комментировать замечания, созданные любыми сотрудниками.

*   **Удаление комментариев** — дает право удалять все комментарии.

*   **Удаление собственных комментариев** — дает право удалять комментарии, которые создал сам сотрудник.

..  thumbnail:: images/roles-setup-7-rights-tasks.png
        :alt: Типы прав: Замечания
        :width: 60%
        :title: Рис. 7. Типы прав: Замечания
        :show_caption: True

..  _Pages:

Страницы
++++++++

*   **Просмотр страницы с элементами структуры** — дает право просматривать раздел «Структура» в проекте.

*   **Просмотр страницы с документами** — дает право просматривать документы в разделе «Документация» в проекте.

*   **Просмотр страницы с участниками** — дает право просматривать участников в разделе «Участники» в проекте. 

*   **Просмотр страницы с настройками** — дает право просматривать раздел «Настройки» в проекте.

*   **Просмотр страницы с замечаниями** — дает право просматривать раздел «Замечания» в проекте.

*   **Просмотр страницы с аналитикой** — дает право просматривать раздел «Аналитика» в проекте.

..  thumbnail:: images/roles-setup-8-rights-pages.png
        :alt: Типы прав: Страницы
        :width: 60%
        :title: Рис. 8. Типы прав: Страницы
        :show_caption: True

..  _Reports:

Отчеты
++++++

*   **Получение ежедневных отчетов** — дает право ежедневно получать отчеты о работе в программе на адрес электронной почты,
    на которую выделена лицензия. Отчеты формируются программой автоматически.

*   **Получение еженедельных отчетов** — дает право еженедельно получать отчеты о работе в программе на адрес электронной почты,
    на которую выделена лицензия. Отчеты формируются программой автоматически. 

*   **Получение ежемесячных отчетов** — дает право ежемесячно получать отчеты о работе в программе на адрес электронной почты,
    на которую выделена лицензия. Отчеты формируются программой автоматически.

..  thumbnail:: images/roles-setup-9-rights-reports.png
        :alt: Типы прав: Отчёты
        :width: 60%
        :title: Рис. 9. Типы прав: Отчёты
        :show_caption: True

.. ..  _Maps:
 
.. Контрольные карты
.. +++++++++++++++++
.. 
.. *   **Создание контрольных карт** ---
.. *   **Изменение контрольных карт (кроме статуса и контрагента)** ---
.. *   **Изменение собственных контрольных карт (кроме статуса и контрагента)** ---
.. *   **Удаление контрольных карт** ---
.. *   **Удаление собственных контрольных карт** ---
.. *   **Изменение комментария**  ---
.. *   **Изменение статуса и контрагента**  ---
.. 
.. ..  thumbnail:: images/roles-setup-10-rights-maps.png
..         :alt: Типы прав: Контрольные карты
..         :width: 60%
..         :title: Рис. 10. Типы прав: Контрольные карты
..         :show_caption: True